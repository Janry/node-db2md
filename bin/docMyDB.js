#!/usr/bin/env node

var program = require("commander"),
    main,
    Main = require(__dirname + "/../lib/main");

program
    .version(require(__dirname + "/../package.json").version)
    .option(
        "-c, --config [path]",
        "path to configuration file. Default: ./docMyDB.json",
        process.cwd() + "/docMyDB.json"
    )
    .option("-G, --nogeneratedby", "no write 'Generated by' block")
    .parse(process.argv);

main = new Main(require(program.config));

main.run(function (errors, data) {
    console.log(data);

    if (program.nogeneratedby !== true) {
        console.log("\n<small>Generated by [docMyDB](https://github.com/index0h/node-docMyDB)</small>");
    }
});